<html>
<head>
  <meta property="og:type"             content="website" />
  <meta property="og:title"            content="테스트 제목 서든어택" />
  <meta property="og:description"      content="이미지 테스트" />
  <meta property="og:url"              content="https://racodin.github.io/sns/"/>
  <meta property="og:image"            content="https://img.sa.nexon.com/notice/20231129/board/header.jpg"/>
  <meta property="og:image:secure_url" content="https://img.sa.nexon.com/notice/20231129/board/header.jpg" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/516dea5a6b.js" crossorigin="anonymous"></script>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
</head>
<style>
  *{padding:0;margin:0}
  body{background-color:#206767}
  button{display:block !important;width:60px;height:60px;margin:20px;font-size:24px;color:#206767;background-color:#fff;border:0;border-radius:30px;overflow:hidden;outline:none;cursor:pointer}
  button:hover{color:#fff;background-color:#639595}
</style>
<body>

<button type="button" class="btn_facebook fab fa-facebook-f image01-share">01</button>
<button type="button" class="btn_facebook fab fa-facebook-f image02-share">02</button>
<button type="button" class="btn_facebook fab fa-facebook-f image03-share">03</button>
<button type="button" class="btn_facebook fab fa-facebook-f image04-share">04</button>
<button type="button" class="btn_facebook fab fa-facebook-f image05-share">05</button>
</body>
</html>


<script>

  $(document).ready(function() {
    Kakao.init('8afee27018e50a6743cbf0a249a82d20');

    // Initialize    
    var searchParams = new URLSearchParams(window.location.search);
    let param = searchParams.get('index');
    if(param != null){
      if(param == '1'){
        //$("meta[property='og\\:image']").attr("content", 'https://img.sa.nexon.com/notice/20231129/board/header.jpg');
        //$("meta[property='og\\:image\\:secure_url']").attr("content", 'https://img.sa.nexon.com/notice/20231129/board/header.jpg');
        $('meta[name="description"]').attr('content', '이미지 01번 디스크립션');
        $('meta[property="og:title"]').attr('content', '이미지 01번 타이틀');
        $('meta[property="og:description"]').attr('content', description);
        //https://img.sa.nexon.com/notice/20231129/board/header.jpg
      } else if(param == '2'){
        $("meta[property='og\\:image']").attr("content", 'https://img-sa-file.nexon.com/dsk03/12/NX_FILE/Board/94227/02/1/000/00/01/5485423975800505397.jpg');
        $("meta[property='og\\:image\\:secure_url']").attr("content", 'https://img-sa-file.nexon.com/dsk03/12/NX_FILE/Board/94227/02/1/000/00/01/5485423975800505397.jpg');
      } else if(param == '3'){
        $("meta[property='og\\:image']").attr("content", 'https://img-sa-file.nexon.com/dsk03/15/NX_FILE/Board/94227/02/1/000/00/01/5701596766504223876.jpg');
        $("meta[property='og\\:image\\:secure_url']").attr("content", 'https://img-sa-file.nexon.com/dsk03/15/NX_FILE/Board/94227/02/1/000/00/01/5701596766504223876.jpg');
      } else if(param == '4'){
        $("meta[property='og\\:image']").attr("content", 'https://img-sa-file.nexon.com/dsk01/05/NX_FILE/Board/94227/02/1/000/00/01/4981020851894748632.jpg');
        $("meta[property='og\\:image\\:secure_url']").attr("content", 'https://img-sa-file.nexon.com/dsk01/05/NX_FILE/Board/94227/02/1/000/00/01/4981020851894748632.jpg');
      } else if(param == '5'){
        $("meta[property='og\\:image']").attr("content", 'https://img-sa-file.nexon.com/dsk02/09/NX_FILE/Board/94227/02/1/000/00/01/5269251189391754242.jpg');
        $("meta[property='og\\:image\\:secure_url']").attr("content", 'https://img-sa-file.nexon.com/dsk02/09/NX_FILE/Board/94227/02/1/000/00/01/5269251189391754242.jpg');
      }
    } else {
      // default
      $("meta[property='og\\:image']").attr("content", 'https://img.sa.nexon.com/notice/20231129/board/header.jpg');
      $("meta[property='og\\:image\\secure_url']").attr("content", 'https://img.sa.nexon.com/notice/20231129/board/header.jpg');
    }

    $(".image01-share").on("click", function() {
      shareSNS("kakao", "테스트 이미지 01번", "https://event.sa.nexon.com/230105/winter_campaign_pre_reservation?index=1", "https://img.sa.nexon.com/notice/20231129/board/header.jpg");
        //var url = 'https://event.sa.nexon.com/230105/winter_campaign_pre_reservation?index=1';
        //window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url), "_blank", "width=600,height=400");
    });

    $(".image02-share").on("click", function() {
      shareSNS("kakao", "테스트 이미지 02번", "https://event.sa.nexon.com/230105/winter_campaign_pre_reservation?index=1", "https://img-sa-file.nexon.com/dsk03/12/NX_FILE/Board/94227/02/1/000/00/01/5485423975800505397.jpg");
        //var url = 'https://racodin.github.io/sns?index=2';
        //window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url), "_blank", "width=600,height=400");
    });

    $(".image03-share").on("click", function() {
      shareSNS("kakao", "테스트 이미지 02번", "https://event.sa.nexon.com/230105/winter_campaign_pre_reservation?index=1", "https://img-sa-file.nexon.com/dsk03/15/NX_FILE/Board/94227/02/1/000/00/01/5701596766504223876.jpg");
        //var url = 'https://racodin.github.io/sns?index=3';
        //window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url), "_blank", "width=600,height=400");
    });

    $(".image04-share").on("click", function() {
        var url = 'https://racodin.github.io/sns?index=4';
        window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url), "_blank", "width=600,height=400");
    });

    $(".image05-share").on("click", function() {
        var url = 'https://racodin.github.io/sns?index=5';
        window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url), "_blank", "width=600,height=400");
    });

    function shareSNS(site, strTitle, strLink, imgPath) {
      if (site == "facebook") {
        var titl = encodeURIComponent(strTitle);
        var link = encodeURIComponent(strLink);
        var url = "http://www.facebook.com/sharer.php?u=" + link + "&t=" + titl;

        if (link.length !== 0) {
          this.windowOpen(url, 1200, 900, "no");
        }
      }
      else if (site == "twitter") {
        var titl = encodeURIComponent(strTitle);
        var link = encodeURIComponent(strLink);
        var url = "https://twitter.com/intent/tweet?text=" + titl + "&url=" + link;

        if (link.length !== 0) {
          this.windowOpen(url, 1200, 900, "no");
        }
      }
      else if (site == "reddit") {
        var titl = encodeURIComponent(strTitle);
        var link = encodeURIComponent(strLink);
        var url = "https://www.reddit.com/submit?url" + link + "&title=" + titl;

        if (link.length !== 0) {
          this.windowOpen(url, 1200, 900, "no");
        }
      }
      else if (site == "kakao") {
        Kakao.Link.sendDefault({
          objectType: "feed",
          content: {
            title: strTitle, // 공유될 제목
            description: "", // 공유될 설명
            imageUrl: imgPath, // 공유될 이미지 url
            link: {
              mobileWebUrl: strLink, // 공유될 모바일 URL
              webUrl: strLink, // 공유될 웹 URL
            },
          },
        });
      }
      else if (site == "clipboard") {
        try {
          navigator.clipboard.writeText(strLink);
        }
        catch { }

        try {
          window.clipboardData.setData("Text", strLink);
        }
        catch { }
        alert(this.$t("W2002"));
      }
    }
});
   
</script>
